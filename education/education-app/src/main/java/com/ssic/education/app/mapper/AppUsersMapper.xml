<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.ssic.education.app.mapper.AppUsersMapper">
	<sql id="where">
		<if test="user.id!=null and user.id!=''">
			and users.id = #{user.id}
		</if>
		<if test="user.userNo!=null and user.userNo!=''">
			and users.user_no =#{user.userNo}
		</if>
		<if test="user.password != null and user.password!=''">
			and users.password = #{user.password}
		</if>
		<if test="user.userAccount!=null and user.userAccount!=''">
			and users.user_account = #{user.userAccount}
		</if>
		<if test="user.name != null and user.name!=''">
			and users.name =
			#{user.name}
		</if>
	</sql>
	<select id="selectLoginInfo" resultType="com.ssic.education.app.dto.EduAppUserDto">
		select 
		u.id as id,
		u.name as name,
		u.source_id as source_id,
		u.source_type as source_type,
		u.gender as gender,
		u.pj_no as pj_no
		from t_edu_users u
		where u.stat=1 and u.isAdmin=1 and u.isDelete =1
		<include refid="where" />
	</select>
</mapper>